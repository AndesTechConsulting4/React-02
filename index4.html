<!DOCTYPE html>
<html lang="ru">

<head>
    <title> 1st React App </title>
    <meta charset="utf-8">
    <script crossorigin src="https://unpkg.com/react@16/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.js"> </script>
</head>

<body>

    <div id="react1"> </div>
    <hr/>
    <div id="react2"> </div>
    <div id="react3"> </div>

    <script>
        
    </script>

<script type="text/babel">
'use strict'

//{this.refs.snameRef.value}

class UserForm extends React.Component
{

  render(){
   console.log("render:")

   if(typeof(this.refs.nameRef)!=='undefined') {  
   console.log("name: ", this.refs.nameRef.value);}

   return <form onSubmit={this.formSubmited}>
   Name: <input type="text" ref="nameRef" onChange={this.onChangeHandler} 
   onBlur={this.onFocusLost}/> <br/>
   SName: <input type="text" ref="snameRef" /> <br/>
   age: <input type="number" max="120" min="18"  ref="ageRef" /> <br/>
   <input type="submit" value="Send user data"/>
   
   <p>{ typeof(this.refs.nameRef)==='undefined'?'':this.refs.nameRef.value}
   </p>
   </form>;

  }

  onChangeHandler = () =>
  {
     console.log("key press: ", this.refs.nameRef.value);

  }

  onFocusLost = () =>
  {
     console.log("Lost focus: ", this.refs.nameRef.value);

  }

  formSubmited = (event) =>
  {
     event.preventDefault();
      
     console.log("refs..", this.refs);
     console.log("sumbited..", this.props);

     this.setState({});


  }

}

//-------------------------------------------------

class UserForm2 extends React.Component
{

  state = {name:'', sname:'', age:18};

  
    
  render(){
   console.log("render2:")

   return <form onSubmit={this.formSubmited}>

   Name: <input type="text" value={this.state.name}
   onChange={this.onChangeHandlerN} 
   onBlur={this.onFocusLost}/> <br/>

   SName: <input type="text" value={this.state.sname} 
   onChange={this.onChangeHandlerS}/> <br/>

   age: <input type="number" max="120" min="18"  
   value={this.state.age} onChange={this.onChangeHandlerA} /> <br/>
   <input type="submit" value="Send user data"/>
   
   <p>{ typeof(this.state.name)==='undefined'?'':this.state.name}
   </p>
   </form>;

  }

  onChangeHandlerN = (e) =>
  {
     const name = e.target.value; 
     console.log("Name key press2: ", this.state);
     this.setState({name: name});

  }
  onChangeHandlerS = (e) =>
  {
    const sname = e.target.value; 
     console.log("SName key press2: ", this.state);
     this.setState({sname: sname});

  }
  onChangeHandlerA = (e) =>
  {
     const age = e.target.value; 
     console.log("Age key press2: ", this.state);
     this.setState({age: age});

  }

  onFocusLost = () =>
  {
     console.log("Lost focus2: ", this.state.name);

  }

  formSubmited = (event) =>
  {
     event.preventDefault();

     console.log("sb fdata: ", this.fdata);
     console.log("sb props: ", this.props);

     

  


  }

}


ReactDOM.render(<UserForm/>,document.getElementById('react1'));
ReactDOM.render(<UserForm2/>,document.getElementById('react2'));

</script>

</body>

</html>